<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <!-- <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script> -->

    <title>C$50 Finance: {% block title %}{% endblock %}</title>
  </head>
  <body>
    <header
      class="bg-blue-900 py-7 px-8 flex justify-between items-center border-b-2 border-gray-300 z-5"
    >
      <a href="/" class="text-xl font-bold text-gray-100"
        >CS50 Stock Trading Simulator</a
      >

      <nav class="md:ml-auto z-1">
        <div class="flex md:hidden">
          <button
            type="button"
            class="collapse-button text-gray-100 hover:text-gray-200 focus:outline-none focus:text-gray-200"
            aria-label="Toggle menu"
            aria-expanded="false"
          >
            <svg viewBox="0 0 24 24" class="h-6 w-6 fill-current">
              <path
                fill-rule="evenodd"
                d="M4 6h16v2H4zm0 5h16v2H4zm16 4H4v2h16z"
              />
            </svg>
          </button>
        </div>
        <ul id="show" class="hidden md:flex md:space-x-8 text-white font-semibold text-lg tracking-widest">
          <!--  -->
          {% if session["user_id"] %}
          <li>
            <a href="/portfolio" class="hover:text-yellow-400"
              >Portfolio</a
            >
          </li>
          <li>
            <a href="/quote" class="hover:text-yellow-400"
              >Quote &amp; Buy</a
            >
          </li>
          <li>
            <a href="/sell" class="hover:text-yellow-400"
              >Sell</a
            >
          </li>
          <li>
            <a href="/history" class="hover:text-yellow-400"
              >History</a
            >
          </li>
          <li>
            <a href="/logout" class="hover:text-yellow-400"
              >Log Out</a
            >
          </li>
          {% else %}
          <li>
            <a href="/register" class="hover:text-yellow-400"
              >Register</a
            >
          </li>
          <li>
            <a href="/login" class="hover:text-yellow-400"
              >Log In</a
            >
          </li>
          {% endif %}
        </ul>
      </nav>
    </header>

    <main class="mx-auto my-6">{% block main %}{% endblock %}</main>
  </body>
  <script>
    const button = document.querySelector('button[aria-label="Toggle menu"]');
    // const menu = document.querySelector("nav");
    const show = document.getElementById("show");

    button.addEventListener("click", () => {
      const expanded = button.getAttribute("aria-expanded") === "true" || false;
      button.setAttribute("aria-expanded", !expanded);
      const largeScreenClass =
        "hidden md:flex md:space-x-8 font-semibold text-grey-200 hover:text-yellow-500";
      const smallScreenClass =
        "transition-all ease-in-out absolute mt-20 z-0 inset-0 min-h-screen bg-yellow-300 place-items-center flex flex-col md:space-x-8 text-blue-900 space-y-10 py-20";

      if (!expanded) {
        largeScreenClass
          .split(" ")
          .forEach((item) => show.classList.remove(item));
        smallScreenClass.split(" ").forEach((item) => show.classList.add(item));
      } else {
        smallScreenClass
          .split(" ")
          .forEach((item) => show.classList.remove(item));
        largeScreenClass.split(" ").forEach((item) => show.classList.add(item));
      }
    });
  </script>
</html>
